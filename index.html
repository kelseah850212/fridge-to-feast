<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fridge To Feast - AI Recipe Generator</title>
    <meta name="description" content="Transform your ingredients into delicious recipes with AI. Get instant cooking inspiration and personalized meal ideas.">
    <meta name="keywords" content="recipe generator, AI cooking, meal planning, food recipes, cooking ideas">
    
    <!-- Google tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RQYJNTJQ1D"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-RQYJNTJQ1D');
    </script>

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5498579882044646"
         crossorigin="anonymous"></script>

    <link rel="manifest" href="data:application/manifest+json;base64,ew0KICAibmFtZSI6ICJGcmlkZ2UgVG8gRmVhc3QiLA0KICAic2hvcnRfbmFtZSI6ICJGcmlkZ2VGZWFzdCIsDQogICJpY29ucyI6IFsNCiAgICB7DQogICAgICAic3JjIjogImh0dHBzOi8vcGxhY2Vob2xkLmNvLzE5MngxOTIvMDBBMDgwL0ZGRkZGRj90ZXh0PUYyRiIsDQogICAgICAidHlwZSI6ICJpbWFnZS9wbmciLA0KICAgICAgInNpemVzIjogIjE5MngxOTIiDQogICAgfSwNCiAgICB7DQogICAgICAic3JjIjogImh0dHBzOi8vcGxhY2Vob2xkLmNvLzUxMng1MTIvMDBBMDgwL0ZGRkZGRj90ZXh0PUYyRiIsDQogICAgICAidHlwZSI6ICJpbWFnZS9wbmciLA0KICAgICAgInNpemVzIjogIjUxMng1MTIiDQogICAgfQ0KICBdLA0KICAic3RhcnRfdXJsIjogIi4iLA0KICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwNCiAgInRoZW1lX2NvbG9yIjogIiMxMEI5ODEiLA0KICAiYmFja2dyb3VuZF9jb2xvciI6ICIjRjlGQUZCIg0KfQ==">
    <meta name="theme-color" content="#10B981">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Poppins:wght@400;500;700&display=swap');
        body { font-family: 'Poppins', 'Noto Sans TC', sans-serif; }
        .style-btn, .preference-btn, .popular-search-btn, #lang-switcher, #my-favorites-btn { transition: all 0.2s ease-in-out; }
        .style-btn:hover, .popular-search-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .preference-btn.active {
            background-color: #10B981; color: white; border-color: #10B981;
            box-shadow: 0 2px 6px rgba(16, 185, 129, 0.3);
        }
        .favorite-btn {
            position: absolute; top: 1rem; right: 1rem;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 9999px; width: 2.5rem; height: 2.5rem;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.25rem; color: #fbbf24;
            transition: all 0.2s ease-in-out;
            z-index: 10; cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .favorite-btn:hover { 
            transform: scale(1.1); 
            background-color: rgba(255, 255, 255, 1);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .favorite-btn.saved { 
            background-color: #fbbf24;
            color: white;
        }
        .favorite-btn.saved:hover {
            background-color: #f59e0b;
        }
        
        /* 加载动画 */
        .loading-spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #10B981;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            display: inline-block;
            margin-right: 8px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* 错误提示样式 */
        .error-card {
            background: linear-gradient(135deg, #fef3c7 0%, #fbbf24 100%);
            border-left: 4px solid #f59e0b;
        }
        
        /* 重试按钮样式 */
        .retry-btn {
            background: linear-gradient(135deg, #10B981 0%, #059669 100%);
            transition: all 0.3s ease;
        }
        .retry-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }
        
        /* Footer styles */
        .footer-link {
            color: #6b7280;
            transition: color 0.2s;
        }
        .footer-link:hover {
            color: #10B981;
        }
        
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 1rem;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            margin: 1rem;
        }
    </style>
</head>
<body class="bg-gray-50">

    <div class="container mx-auto max-w-2xl p-4 relative pb-24">
        <div class="flex justify-end items-center gap-2 mb-4">
            <button id="my-favorites-btn" class="text-sm font-semibold text-gray-600 hover:text-green-500 py-2 px-3 bg-white rounded-lg shadow-sm border">
                <i class="fas fa-star mr-1 text-amber-400"></i>
                <span data-translate="my_favorites">我的最愛</span>
            </button>
            <button id="lang-switcher" class="text-sm font-semibold text-gray-600 hover:text-green-500 py-2 px-3 bg-white rounded-lg shadow-sm border">English</button>
        </div>
        
        <header class="text-center my-8">
            <h1 class="text-4xl font-bold text-gray-800" data-translate="main_title">Fridge To Feast</h1>
            <p class="text-gray-500 mt-2" data-translate="subtitle">輸入食材找靈感，或直接搜尋菜名！</p>
            
            <!-- 温馨提示 -->
            <div class="mt-6 mb-4">
                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 p-3 rounded-lg shadow-sm">
                    <div class="flex items-center justify-center">
                        <div class="flex items-center">
                            <i class="fas fa-info-circle text-blue-500 text-sm mr-2"></i>
                            <span class="text-sm text-blue-700 font-medium" data-translate="warm_reminder_title">💡 溫馨提示</span>
                        </div>
                    </div>
                    <div class="mt-2 text-center">
                        <p class="text-xs text-blue-600" data-translate="warm_reminder_text">本站使用真實 AI 進行食譜生成，並非傳統搜索功能。我們致力於為您創造獨特的烹飪靈感，但 AI 伺服器偶爾可能會繁忙，請您見諒。建議將喜愛的食譜收藏起來，方便隨時查看！</p>
                    </div>
                    <div class="mt-2 flex justify-center gap-2">
                        <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-700">
                            <i class="fas fa-robot mr-1 text-xs"></i><span data-translate="feature_ai">真實 AI</span>
                        </span>
                        <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700">
                            <i class="fas fa-lightbulb mr-1 text-xs"></i><span data-translate="feature_creative">創意無限</span>
                        </span>
                        <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-700">
                            <i class="fas fa-heart mr-1 text-xs"></i><span data-translate="feature_caring">用心服務</span>
                        </span>
                    </div>
                </div>
            </div>
        </header>
        
        <div class="bg-white p-6 rounded-xl shadow-md">
            <div class="flex items-center border-2 border-gray-200 rounded-lg focus-within:border-green-500 transition-colors">
                <i class="fas fa-utensils text-gray-400 mx-3"></i>
                <input type="text" id="main-input" class="w-full p-3 outline-none">
                <button id="start-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-r-lg transition-colors">
                    <i class="fas fa-search mr-2"></i><span data-translate="start_button">開始</span>
                </button>
            </div>
            <div id="preferences-container" class="mt-4 flex flex-wrap justify-center gap-3">
                <button class="preference-btn py-2 px-4 bg-white border-2 border-gray-200 rounded-full text-sm font-semibold text-gray-600" data-preference="vegetarian" data-translate="pref_vegetarian">素食</button>
                <button class="preference-btn py-2 px-4 bg-white border-2 border-gray-200 rounded-full text-sm font-semibold text-gray-600" data-preference="low-calorie" data-translate="pref_low_calorie">低熱量</button>
                <button class="preference-btn py-2 px-4 bg-white border-2 border-gray-200 rounded-full text-sm font-semibold text-gray-600" data-preference="spicy" data-translate="pref_spicy">要辣</button>
            </div>
        </div>
        
        <div id="initial-content-container" class="mt-8">
             <!-- Initial content is now dynamically managed by JS -->
        </div>

        <div id="result-container" class="mt-8 grid gap-8"></div>
    </div>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 mt-16">
        <div class="container mx-auto max-w-4xl px-4 py-8">
            <div class="grid md:grid-cols-4 gap-6 text-sm">
                <div>
                    <h3 class="font-semibold text-gray-800 mb-3" data-translate="footer_legal">法律資訊</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="footer-link" onclick="showModal('privacy'); return false;" data-translate="footer_privacy">隱私政策</a></li>
                        <li><a href="#" class="footer-link" onclick="showModal('terms'); return false;" data-translate="footer_terms">服務條款</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-800 mb-3" data-translate="footer_help">幫助中心</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="footer-link" onclick="showModal('faq'); return false;" data-translate="footer_faq">常見問題</a></li>
                        <li><a href="#" class="footer-link" onclick="showModal('about'); return false;" data-translate="footer_about">關於我們</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-800 mb-3" data-translate="footer_contact">聯絡我們</h3>
                    <p class="text-gray-600" data-translate="footer_email">contact@fridgetofeast.com</p>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-800 mb-3" data-translate="footer_follow">關注我們</h3>
                    <div class="flex space-x-3">
                        <a href="#" class="footer-link text-xl"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="footer-link text-xl"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="footer-link text-xl"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
            </div>
            <div class="mt-6 pt-6 border-t border-gray-200 text-center text-gray-500 text-xs">
                <p data-translate="footer_copyright">© 2024 Fridge To Feast. 保留所有權利。</p>
            </div>
        </div>
    </footer>

    <!-- Modals -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h2 id="modal-title" class="text-2xl font-bold text-gray-800"></h2>
                <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <div id="modal-body" class="text-gray-600"></div>
        </div>
    </div>

    <!-- Templates -->
    <template id="initial-content-template">
        <div class="bg-white p-6 rounded-xl shadow-md">
            <h2 class="text-2xl font-bold text-gray-800 mb-4" data-translate="welcome_title">歡迎來到 Fridge To Feast！</h2>
            <p class="text-gray-600 mb-6" data-translate="welcome_text">再也不用煩惱冰箱裡的食材能做什麼菜。我們利用 AI 為您創造美味食譜，將剩餘食材變成餐桌上的盛宴！</p>
            
            <!-- 烹飪小貼士 -->
            <div class="bg-gradient-to-r from-green-50 to-blue-50 p-4 rounded-lg mb-6">
                <h3 class="text-lg font-semibold text-gray-700 mb-3" data-translate="daily_tips_title">💡 今日烹飪小貼士</h3>
                <div class="grid md:grid-cols-2 gap-4 text-sm">
                    <div class="bg-white p-3 rounded-lg shadow-sm">
                        <h4 class="font-medium text-green-600 mb-1" data-translate="tip_storage">🥬 食材保存</h4>
                        <p class="text-gray-600" data-translate="tip_storage_text">綠葉蔬菜用濕紙巾包裹後放入保鮮袋，可延長3-5天新鮮度</p>
                    </div>
                    <div class="bg-white p-3 rounded-lg shadow-sm">
                        <h4 class="font-medium text-blue-600 mb-1" data-translate="tip_seasoning">🧂 調味技巧</h4>
                        <p class="text-gray-600" data-translate="tip_seasoning_text">炒菜時鹽要分兩次放：炒製中期少許，起鍋前調味</p>
                    </div>
                </div>
            </div>

            <h3 class="text-xl font-semibold text-gray-700 border-b-2 border-green-500 pb-2 mb-4" data-translate="how_to_use_title">如何使用？</h3>
            <ol class="list-decimal list-inside space-y-2 text-gray-600 mb-6">
                <li data-translate="step1_text">在上面的搜尋框中，輸入您擁有的食材（例如：雞蛋, 番茄, 洋蔥）。</li>
                <li data-translate="step2_text">選擇您的飲食偏好（例如：素食、要辣）。</li>
                <li data-translate="step3_text">點擊「開始」，讓我們為您變出魔法！</li>
            </ol>

            <!-- 營養知識 -->
            <div class="bg-yellow-50 p-4 rounded-lg mb-6">
                <h3 class="text-lg font-semibold text-gray-700 mb-3" data-translate="nutrition_tips_title">🌟 營養搭配小知識</h3>
                <div class="space-y-2 text-sm text-gray-600">
                    <p data-translate="nutrition_tip1"><strong>蛋白質+維生素C：</strong>牛肉配番茄，促進鐵質吸收</p>
                    <p data-translate="nutrition_tip2"><strong>鈣質+維生素D：</strong>豆腐配魚類，強化骨骼健康</p>
                    <p data-translate="nutrition_tip3"><strong>膳食纖維：</strong>每餐至少一種綠葉蔬菜，促進消化</p>
                </div>
            </div>

            <h3 class="text-xl font-semibold text-gray-700 mb-4" data-translate="popular_searches_title">熱門搜尋</h3>
            <div id="popular-searches-container" class="flex flex-wrap gap-3 mb-6">
                <button class="popular-search-btn bg-green-100 text-green-700 py-2 px-4 rounded-full font-semibold" data-search="雞蛋">🍳 <span data-translate="pop_egg">雞蛋</span></button>
                <button class="popular-search-btn bg-blue-100 text-blue-700 py-2 px-4 rounded-full font-semibold" data-search="雞肉">🍗 <span data-translate="pop_chicken">雞肉</span></button>
                <button class="popular-search-btn bg-red-100 text-red-700 py-2 px-4 rounded-full font-semibold" data-search="番茄">🍅 <span data-translate="pop_tomato">番茄</span></button>
                <button class="popular-search-btn bg-yellow-100 text-yellow-700 py-2 px-4 rounded-full font-semibold" data-search="馬鈴薯">🥔 <span data-translate="pop_potato">馬鈴薯</span></button>
                <button class="popular-search-btn bg-teal-100 text-teal-700 py-2 px-4 rounded-full font-semibold" data-search="擂茶">🍵 <span data-translate="pop_leicha">擂茶</span></button>
                <button class="popular-search-btn bg-purple-100 text-purple-700 py-2 px-4 rounded-full font-semibold" data-search="豆腐">🧈 <span data-translate="pop_tofu">豆腐</span></button>
            </div>

            <!-- 健康飲食指南 -->
            <div class="bg-blue-50 p-4 rounded-lg">
                <h3 class="text-lg font-semibold text-gray-700 mb-3" data-translate="healthy_eating_title">🍽️ 健康飲食指南</h3>
                <div class="grid md:grid-cols-3 gap-3 text-sm">
                    <div class="text-center p-2 bg-white rounded">
                        <div class="text-2xl mb-1">🥗</div>
                        <div class="font-medium" data-translate="health_veg">蔬菜水果</div>
                        <div class="text-gray-600" data-translate="health_veg_desc">每日5份</div>
                    </div>
                    <div class="text-center p-2 bg-white rounded">
                        <div class="text-2xl mb-1">🍗</div>
                        <div class="font-medium" data-translate="health_protein">優質蛋白</div>
                        <div class="text-gray-600" data-translate="health_protein_desc">每餐1份</div>
                    </div>
                    <div class="text-center p-2 bg-white rounded">
                        <div class="text-2xl mb-1">🌾</div>
                        <div class="font-medium" data-translate="health_grain">全穀物</div>
                        <div class="text-gray-600" data-translate="health_grain_desc">替代精製穀物</div>
                    </div>
                </div>
            </div>
        </div>
    </template>
    
    <template id="favorites-view-template">
        <div class="bg-white p-6 rounded-xl shadow-md">
            <h2 class="text-2xl font-bold text-gray-800 mb-4" data-translate="favorites_title">我的最愛食譜</h2>
            <p id="no-favorites-text" class="text-gray-500" data-translate="no_favorites_text">您還沒有收藏任何食譜。看到喜歡的食譜時，點擊右上角的星號就可以收藏起來！</p>
        </div>
    </template>
    
    <template id="recipe-card-template">
        <div class="bg-white p-6 rounded-xl shadow-lg relative">
            <button class="favorite-btn" title="加入我的最愛">
                <i class="far fa-star"></i>
            </button>
            <div class="relative">
                <img class="recipe-image w-full h-64 object-cover rounded-lg mb-4 shadow-md" src="" alt="Recipe Image">
                <div class="absolute bottom-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded" data-translate="image_ref_note">圖片只供參考</div>
            </div>
            <div class="favorite-reminder text-sm text-center text-gray-500 mb-4 italic" data-translate="favorite_reminder">喜歡這道菜？點擊星號收藏，隨時離線查看！</div>
            <h2 class="recipe-name text-3xl font-bold text-gray-800 mb-2"></h2>
            <p class="text-gray-600 mb-4">
                <i class="fas fa-fire-alt mr-2 text-red-500"></i>
                <span data-translate="calories_label">預估卡路里</span>: 
                <span class="recipe-calories"></span> 
                <span class="text-xs text-gray-400" data-translate="calories_note">(估算值)</span>
            </p>
            <div class="mt-6">
                <h3 class="text-xl font-semibold text-gray-700 border-b-2 border-green-500 pb-2 mb-4" data-translate="ingredients_label">所需食材</h3>
                <ul class="recipe-ingredients list-disc list-inside space-y-2 text-gray-600"></ul>
            </div>
            <div class="mt-6">
                <h3 class="text-xl font-semibold text-gray-700 border-b-2 border-green-500 pb-2 mb-4" data-translate="instructions_label">做法</h3>
                <div class="recipe-instructions space-y-3 text-gray-600 leading-relaxed"></div>
            </div>
        </div>
    </template>
    
    <template id="error-message-template">
        <div class="error-card p-6 rounded-xl shadow-lg" role="alert">
            <div class="flex items-center mb-4">
                <i class="fas fa-exclamation-triangle text-yellow-600 text-2xl mr-3"></i>
                <h3 class="text-xl font-bold text-gray-800 error-title">AI 廚師正在忙碌中！</h3>
            </div>
            <div class="error-content mb-6">
                <p class="text-gray-700 mb-3 error-text"></p>
                <div class="bg-white bg-opacity-50 p-4 rounded-lg">
                    <p class="text-sm text-gray-600 mb-2"><strong data-translate="error_solution">💡 建議解決方案：</strong></p>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li data-translate="error_tip1">• 等待 30-60 秒後重試</li>
                        <li data-translate="error_tip2">• 避開使用高峰期（晚餐時間 6-8pm）</li>
                        <li data-translate="error_tip3">• 將喜歡的食譜先收藏起來，避免重新生成</li>
                        <li data-translate="error_tip4">• 嘗試簡化搜索內容</li>
                    </ul>
                </div>
            </div>
            <div class="flex gap-3">
                <button class="retry-btn text-white px-6 py-3 rounded-lg font-semibold flex items-center">
                    <i class="fas fa-redo mr-2"></i>
                    <span class="retry-text" data-translate="retry_text">重試</span>
                </button>
                <button class="back-home-btn bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors">
                    <i class="fas fa-home mr-2"></i>
                    <span data-translate="back_home">返回首頁</span>
                </button>
            </div>
        </div>
    </template>

    <script>
        // --- 全域錯誤處理 ---
        window.onerror = function(message, source, lineno, colno, error) {
            console.error("全域錯誤:", message, error);
            try {
                const resultContainer = document.getElementById('result-container');
                if (resultContainer) {
                    const lang = localStorage.getItem('fridgeToFeastLang') || 'zh';
                    const errorTitle = lang === 'zh' ? '噢不，發生了未知的錯誤！' : 'An unexpected error occurred!';
                    const errorMessage = lang === 'zh' ? '請重新整理頁面或稍後再試。' : 'Please refresh the page or try again later.';
                    displayError(errorMessage, false, errorTitle);
                }
            } catch (e) {
                console.error("無法顯示錯誤信息:", e);
            }
            return true;
        };
        
        // --- 翻譯系統 ---
        const translations = {
            zh: { 
                lang_switcher: "English", 
                main_title: "Fridge To Feast", 
                subtitle: "輸入食材找靈感，或直接搜尋菜名！", 
                input_placeholder: "例如: 雞蛋, 番茄", 
                start_button: "開始", 
                thinking: "思考中...", 
                generating_recipe: "生成食譜中...", 
                generating_image: "繪製圖片中...", 
                art_director: "聘請造型師...", 
                how_to_cook: "你想怎麼煮？", 
                ai_creative_style: "AI創意煮法", 
                image_ref_note: "圖片只供參考", 
                calories_label: "預估卡路里", 
                calories_note: "(估算值)", 
                ingredients_label: "所需食材", 
                instructions_label: "做法", 
                error_title: "噢不，出錯了！", 
                error_title_busy: "AI 廚師正在忙碌中！", 
                error_busy_text: "伺服器目前忙碌中，請稍後重試。建議先將喜歡的食譜收藏起來！", 
                error_input_required: "請輸入食材或菜名！", 
                error_generic: "無法處理您的請求，請稍後再試。", 
                error_recipe_gen: "生成食譜失敗，請稍後再試。", 
                error_timeout: "請求超時，伺服器響應較慢。", 
                error_network: "網路連接問題，請檢查您的網路連接。", 
                step_label: "步驟", 
                pref_vegetarian: "素食", 
                pref_low_calorie: "低熱量", 
                pref_spicy: "要辣", 
                welcome_title: "歡迎來到 Fridge To Feast！", 
                welcome_text: "再也不用煩惱冰箱裡的食材能做什麼菜。我們利用 AI 為您創造美味食譜，將剩餘食材變成餐桌上的盛宴！", 
                how_to_use_title: "如何使用？", 
                step1_text: "在上面的搜尋框中，輸入您擁有的食材（例如：雞蛋, 番茄, 洋蔥）。", 
                step2_text: "選擇您的飲食偏好（例如：素食、要辣）。", 
                step3_text: "點擊「開始」，讓我們為您變出魔法！", 
                popular_searches_title: "熱門搜尋", 
                my_favorites: "我的最愛", 
                favorites_title: "我的最愛食譜", 
                no_favorites_text: "您還沒有收藏任何食譜。看到喜歡的食譜時，點擊右上角的星號就可以收藏起來！", 
                favorite_reminder: "喜歡這道菜？點擊星號收藏，隨時離線查看！", 
                retry_text: "重試", 
                retrying_text: "重試中...", 
                back_home: "返回首頁", 
                warm_reminder_title: "💡 溫馨提示", 
                warm_reminder_text: "本站使用真實 AI 進行食譜生成，並非傳統搜索功能。我們致力於為您創造獨特的烹飪靈感，但 AI 伺服器偶爾可能會繁忙，請您見諒。建議將喜愛的食譜收藏起來，方便隨時查看！", 
                daily_tips_title: "💡 今日烹飪小貼士", 
                nutrition_tips_title: "🌟 營養搭配小知識", 
                healthy_eating_title: "🍽️ 健康飲食指南",
                feature_ai: "真實 AI",
                feature_creative: "創意無限",
                feature_caring: "用心服務",
                tip_storage: "🥬 食材保存",
                tip_storage_text: "綠葉蔬菜用濕紙巾包裹後放入保鮮袋，可延長3-5天新鮮度",
                tip_seasoning: "🧂 調味技巧",
                tip_seasoning_text: "炒菜時鹽要分兩次放：炒製中期少許，起鍋前調味",
                nutrition_tip1: "蛋白質+維生素C：牛肉配番茄，促進鐵質吸收",
                nutrition_tip2: "鈣質+維生素D：豆腐配魚類，強化骨骼健康",
                nutrition_tip3: "膳食纖維：每餐至少一種綠葉蔬菜，促進消化",
                pop_egg: "雞蛋",
                pop_chicken: "雞肉",
                pop_tomato: "番茄",
                pop_potato: "馬鈴薯",
                pop_leicha: "擂茶",
                pop_tofu: "豆腐",
                health_veg: "蔬菜水果",
                health_veg_desc: "每日5份",
                health_protein: "優質蛋白",
                health_protein_desc: "每餐1份",
                health_grain: "全穀物",
                health_grain_desc: "替代精製穀物",
                error_solution: "💡 建議解決方案：",
                error_tip1: "• 等待 30-60 秒後重試",
                error_tip2: "• 避開使用高峰期（晚餐時間 6-8pm）",
                error_tip3: "• 將喜歡的食譜先收藏起來，避免重新生成",
                error_tip4: "• 嘗試簡化搜索內容",
                footer_legal: "法律資訊",
                footer_privacy: "隱私政策",
                footer_terms: "服務條款",
                footer_help: "幫助中心",
                footer_faq: "常見問題",
                footer_about: "關於我們",
                footer_contact: "聯絡我們",
                footer_email: "contact@fridgetofeast.com",
                footer_follow: "關注我們",
                footer_copyright: "© 2024 Fridge To Feast. 保留所有權利。",
                modal_privacy_title: "隱私政策",
                modal_privacy_content: "我們重視您的隱私。本站使用 Google Analytics 來了解網站使用情況，並透過 cookies 改善使用體驗。我們不會收集個人身份資訊，所有食譜生成數據均為匿名處理。您的收藏食譜僅存儲在本地設備中，我們無法存取。使用本站即表示您同意我們的隱私政策。如有任何疑問，請聯絡我們。",
                modal_terms_title: "服務條款",
                modal_terms_content: "使用本服務即表示您同意以下條款：AI 生成的食譜僅供參考，請根據實際情況調整。我們不對食譜的營養價值或過敏原承擔責任。請謹慎處理食材，確保食品安全。本站保留隨時修改或終止服務的權利。",
                modal_about_title: "關於我們",
                modal_about_content: "Fridge To Feast 是一個創新的 AI 食譜生成平台，致力於減少食物浪費，激發烹飪創意。我們相信每個人都能成為出色的廚師，只需要一點靈感和指導。",
                modal_faq_title: "常見問題",
                faq_q1: "Q: AI 生成的食譜可靠嗎？",
                faq_a1: "A: 我們的 AI 經過大量食譜訓練，能提供合理的烹飪建議。但建議您根據個人口味和經驗調整。",
                faq_q2: "Q: 為什麼有時候生成速度很慢？",
                faq_a2: "A: AI 伺服器在高峰時段可能較忙碌。建議避開用餐時間使用，或將喜歡的食譜收藏起來。",
                faq_q3: "Q: 收藏的食譜會消失嗎？",
                faq_a3: "A: 收藏存儲在您的瀏覽器中，清除瀏覽器數據可能會導致收藏丟失。建議定期截圖保存重要食譜。",
                faq_q4: "Q: 可以商業使用這些食譜嗎？",
                faq_a4: "A: 食譜僅供個人使用參考。商業使用請先取得書面許可。",
                faq_q5: "Q: 如何聯絡客服？",
                faq_a5: "A: 請發送郵件至 contact@fridgetofeast.com，我們會盡快回覆。"
            },
            en: { 
                lang_switcher: "中文", 
                main_title: "Fridge To Feast", 
                subtitle: "Enter ingredients for ideas, or search for a recipe directly!", 
                input_placeholder: "e.g., egg, tomato", 
                start_button: "Start", 
                thinking: "Thinking...", 
                generating_recipe: "Generating Recipe...", 
                generating_image: "Creating Image...", 
                art_director: "Hiring Art Director...", 
                how_to_cook: "How would you like to cook it?", 
                ai_creative_style: "AI Creative Style", 
                image_ref_note: "Image for reference only", 
                calories_label: "Est. Calories", 
                calories_note: "(approx.)", 
                ingredients_label: "Ingredients", 
                instructions_label: "Instructions", 
                error_title: "Oh no, an error occurred!", 
                error_title_busy: "AI Chef is Busy!", 
                error_busy_text: "Server is currently busy. Please try again later. Consider saving recipes you like to your favorites!", 
                error_input_required: "Please enter ingredients or a recipe name!", 
                error_generic: "Could not process your request. Please try again later.", 
                error_recipe_gen: "Failed to generate recipe. Please try again later.", 
                error_timeout: "Request timed out, server is responding slowly.", 
                error_network: "Network connection issue, please check your internet connection.", 
                step_label: "Step", 
                pref_vegetarian: "Vegetarian", 
                pref_low_calorie: "Low-Calorie", 
                pref_spicy: "Spicy", 
                welcome_title: "Welcome to Fridge To Feast!", 
                welcome_text: "Stop wondering what to cook with the ingredients in your fridge. We use AI to create delicious recipes, turning your leftovers into a feast!", 
                how_to_use_title: "How to Use?", 
                step1_text: "Enter the ingredients you have in the search bar above (e.g., egg, tomato, onion).", 
                step2_text: "Select your dietary preferences (e.g., Vegetarian, Spicy).", 
                step3_text: "Click 'Start' and let us work our magic!", 
                popular_searches_title: "Popular Searches", 
                my_favorites: "My Favorites", 
                favorites_title: "My Favorite Recipes", 
                no_favorites_text: "You haven't saved any recipes yet. When you find a recipe you like, click the star icon to save it!", 
                favorite_reminder: "Like this recipe? Tap the star to save it for offline access!", 
                retry_text: "Retry", 
                retrying_text: "Retrying...", 
                back_home: "Back to Home", 
                warm_reminder_title: "💡 Friendly Reminder", 
                warm_reminder_text: "This site uses real AI to generate recipes, not traditional search functions. We strive to create unique culinary inspiration for you, but our AI servers may occasionally be busy. Please be patient with us. We recommend saving your favorite recipes for easy access anytime!", 
                daily_tips_title: "💡 Daily Cooking Tips", 
                nutrition_tips_title: "🌟 Nutrition Pairing Knowledge", 
                healthy_eating_title: "🍽️ Healthy Eating Guide",
                feature_ai: "Real AI",
                feature_creative: "Unlimited Creativity",
                feature_caring: "Caring Service",
                tip_storage: "🥬 Food Storage",
                tip_storage_text: "Wrap leafy greens in damp paper towels and store in plastic bags to extend freshness by 3-5 days",
                tip_seasoning: "🧂 Seasoning Tips",
                tip_seasoning_text: "Add salt twice when stir-frying: a little during cooking, adjust before serving",
                nutrition_tip1: "Protein + Vitamin C: Beef with tomatoes enhances iron absorption",
                nutrition_tip2: "Calcium + Vitamin D: Tofu with fish strengthens bones",
                nutrition_tip3: "Dietary Fiber: Include at least one leafy green per meal for digestion",
                pop_egg: "Egg",
                pop_chicken: "Chicken",
                pop_tomato: "Tomato",
                pop_potato: "Potato",
                pop_leicha: "Lei Cha",
                pop_tofu: "Tofu",
                health_veg: "Vegetables & Fruits",
                health_veg_desc: "5 servings daily",
                health_protein: "Quality Protein",
                health_protein_desc: "1 serving per meal",
                health_grain: "Whole Grains",
                health_grain_desc: "Replace refined grains",
                error_solution: "💡 Suggested Solutions:",
                error_tip1: "• Wait 30-60 seconds and retry",
                error_tip2: "• Avoid peak hours (dinner time 6-8pm)",
                error_tip3: "• Save favorite recipes to avoid regeneration",
                error_tip4: "• Try simplifying your search",
                footer_legal: "Legal",
                footer_privacy: "Privacy Policy",
                footer_terms: "Terms of Service",
                footer_help: "Help Center",
                footer_faq: "FAQ",
                footer_about: "About Us",
                footer_contact: "Contact Us",
                footer_email: "contact@fridgetofeast.com",
                footer_follow: "Follow Us",
                footer_copyright: "© 2024 Fridge To Feast. All rights reserved.",
                modal_privacy_title: "Privacy Policy",
                modal_privacy_content: "We value your privacy. This site uses Google Analytics to understand usage patterns and cookies to improve user experience. We don't collect personal identifying information, and all recipe generation data is processed anonymously. Your saved recipes are stored locally on your device only. By using this site, you agree to our privacy policy. Contact us with any questions.",
                modal_terms_title: "Terms of Service",
                modal_terms_content: "By using this service, you agree to these terms: AI-generated recipes are for reference only, please adjust based on actual circumstances. We are not responsible for nutritional value or allergens. Please handle ingredients carefully and ensure food safety. We reserve the right to modify or terminate the service at any time.",
                modal_about_title: "About Us",
                modal_about_content: "Fridge To Feast is an innovative AI recipe generation platform dedicated to reducing food waste and inspiring culinary creativity. We believe everyone can be a great chef with just a little inspiration and guidance.",
                modal_faq_title: "Frequently Asked Questions",
                faq_q1: "Q: Are AI-generated recipes reliable?",
                faq_a1: "A: Our AI is trained on extensive recipe data and provides reasonable cooking suggestions. However, we recommend adjusting based on your taste and experience.",
                faq_q2: "Q: Why is generation sometimes slow?",
                faq_a2: "A: AI servers may be busy during peak hours. Try using during off-peak times or save your favorite recipes.",
                faq_q3: "Q: Will saved recipes disappear?",
                faq_a3: "A: Favorites are stored in your browser. Clearing browser data may cause loss of saved recipes. We recommend taking screenshots of important recipes.",
                faq_q4: "Q: Can I use these recipes commercially?",
                faq_a4: "A: Recipes are for personal use only. Commercial use requires written permission.",
                faq_q5: "Q: How do I contact support?",
                faq_a5: "A: Email us at contact@fridgetofeast.com and we'll respond as soon as possible."
            }
        };
        let currentLanguage = localStorage.getItem('fridgeToFeastLang') || 'zh';